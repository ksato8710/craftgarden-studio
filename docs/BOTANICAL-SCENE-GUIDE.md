# Botanical Scene Guide — 植物風景システム

> craftgarden の UI は「庭園の中にある」。
> 植物モチーフは背景装飾ではなく、ユーザーがいる空間を構成する風景。
> Version 1.0 | Last updated: 2026-02-25

---

## 1. コンセプト

### 1.1 基本思想：庭園の中の UI

craftgarden のすべてのプロダクトは、ひとつの庭の中にある。
ユーザーは庭園を「見ている」のではなく、庭園の「中にいる」。

水彩画のような透明度の SVG で、樹木・花・葉が画面を囲み、
そのまんなかにコンテンツが守られている。

### 1.2 水彩庭園画（Watercolor Garden Scene）

この表現を一言で伝えるメタファー：

> **「水彩画の庭園の中に UI がある」**

- **水彩画** → opacity 0.15〜0.32 の透明感。べた塗りではなく、紙の白が透ける
- **庭園** → ランダムな装飾ではなく、樹木・花の構図がある
- **中に UI がある** → UI が庭園を見ているのではなく、庭園の中に存在している

### 1.3 3層の奥行き

平面の画面に奥行きのある「空間」を生むために、透明度で3層を分ける。
**すべてのプロダクトで3層すべてを表現する。**省略しない。

| 層 | 名称 | opacity 範囲 | 知覚レベル | 構成要素 |
|:--:|------|:-----------:|-----------|---------|
| **前景** | Foreground | 0.15 〜 0.32 | はっきり見える | 樹木の幹・枝、花の集積、葉群 |
| **中景** | Midground | 0.08 〜 0.18 | 意識すれば見える | 散る花びら、落葉アニメーション、蔓デバイダー |
| **遠景** | Background | 0.03 〜 0.10 | ほぼ気づかない | 環境レイヤー（ページ全体に漂う花びら・葉） |

---

## 2. プロダクト別の花 — 庭園の花壇マップ

### 2.1 設計思想

craftgarden の庭にはさまざまな花が咲いている。
本サイト（craftgarden.studio）は庭全体を俯瞰する場所であり、三花（杏・椿・楓）がすべて登場する。
各プロダクトは庭の中のひとつの花壇であり、**固有の花がそのプロダクトのアイデンティティ**となる。

### 2.2 花の割り当て

| プロダクト | 花 | 学名 / 英名 | カラートークン案 | 花の印象 |
|-----------|---|------------|-----------------|---------|
| **craftgarden.studio** | 杏・椿・楓（三花） | — | 既存トークン | 庭園全体 |
| **AI PM Service** | ダリア | Dahlia | `--color-dahlia` | 幾何学的な花弁の重なり。構造化・計画性 |
| History Quiz | — | — | — | 未定 |
| WealthPilot | — | — | — | 未定 |
| Product Hub | — | — | — | 未定 |
| Content Studio | — | — | — | 未定 |
| Feedback Hub | — | — | — | 未定 |
| AI Solo Craft | — | — | — | 未定 |
| Conf Hub | — | — | — | 未定 |
| Orcha | — | — | — | 未定 |
| API Catalog JP | — | — | — | 未定 |

> 花は「プロダクトの性格」を反映して選ぶ。
> 花言葉・花弁の構造・色味を総合的に考慮する。
> 割り当ては随時このドキュメントを更新する。

### 2.3 花の選定基準

花を新たに割り当てる際の指針：

| 基準 | 説明 |
|------|------|
| **性格の一致** | プロダクトの本質と花の印象が合っていること |
| **SVG 抽象化の容易さ** | ellipse / path / circle の組み合わせで幾何学的に表現できること |
| **既存花との色域の分離** | 他のプロダクトの花色と十分に区別できること |
| **和の感性との親和性** | craftgarden の世界観（和洋折衷の庭）に馴染むこと |

### 2.4 カラートークンの追加規約

各花のトークンは以下の2色ペアで定義する（三花と同じ構造）：

```css
--color-{flower}:      /* 標準。装飾の主色 */
--color-{flower}-hot:   /* 強調。ホバー、グラデーション端 */
```

例（ダリア）:
```css
--color-dahlia:     #C75B9B;  /* 落ち着いたマゼンタピンク */
--color-dahlia-hot: #D964A8;  /* やや鮮やかに */
```

---

## 3. 適用レベル — 全プロダクト共通の3層表現

### 3.1 レベル定義

すべてのプロダクトで前景・中景・遠景の3層を使う。
レベルの違いは**密度と構図の強さ**であり、層の省略ではない。

| レベル | 名称 | 前景の密度 | 中景の密度 | 遠景の密度 | 対象 |
|:------:|------|:---------:|:---------:|:---------:|------|
| **L3** | **Garden（庭園）** | 高密度：樹木が画面をフレーミング | 落葉アニメ + 蔓デバイダー | 環境レイヤー | LP・ポートフォリオ |
| **L2** | **Path（小径）** | 中密度：画面の隅に枝・花の集積 | 散る花びら + 蔓デバイダー | 環境レイヤー | コンテンツ系・ブログ |
| **L1** | **Breath（息吹）** | 低密度：画面端に花 1〜3 輪 + 小枝 | 花びら数枚が漂う | 環境レイヤー | ダッシュボード・ツール系 |

### 3.2 各レベルの詳細

#### L3: Garden（庭園）— LP・ポートフォリオ

本サイト（craftgarden.studio）の Hero がリファレンス実装。

```
前景 (0.20〜0.32):
  - 3本の樹木がテキストの左・右・上を囲む「庭園フレーミング」
  - 樹木コンテナ opacity 0.85〜0.90、要素 opacity 0.25〜0.38
  - 枝のストローク + 花/葉の集積で樹冠を形成
  - テキスト保護圏 (radial-gradient) 必須

中景 (0.12〜0.20):
  - 落葉アニメーション（8要素、8〜12秒周期）
  - VineDivider（セクション間の蔓型区切り）
  - 散在する花びら・葉（25要素程度）

遠景 (0.03〜0.10):
  - BotanicalBackground（ページ全体、fixed 配置）
  - コンテナ opacity 0.22 × 要素 opacity 0.3〜0.6
```

#### L2: Path（小径）— コンテンツ系

庭の小径を歩いているイメージ。道の両脇に花が咲いている。

```
前景 (0.15〜0.25):
  - 画面の隅（左下・右上など対角配置）に花の集積
  - 樹木全体ではなく、枝1〜2本 + 花5〜8輪の構成
  - ヘッダー下やフッター上に枝が伸びるような配置
  - テキスト保護圏は重なる場合のみ

中景 (0.08〜0.15):
  - 散る花びら（4〜6枚、gentle-drift アニメーション）
  - VineDivider（セクション間）
  - 小さな葉の散在

遠景 (0.03〜0.08):
  - BotanicalBackground（要素数を半分程度に削減）
  - コンテナ opacity 0.15 × 要素 opacity 0.3〜0.5
```

#### L1: Breath（息吹）— ダッシュボード・ツール系

庭の中にある作業小屋のイメージ。窓から花が見えている。

```
前景 (0.15〜0.22):
  - 画面の一隅に花 1〜3 輪 + 小枝
  - サイドバーの端、ヘッダーの片隅、空白領域の角に配置
  - ユーザーの作業領域には侵入しない
  - コンテンツ密度の高いツール系でも「庭にいる」ことを忘れさせない

中景 (0.08〜0.12):
  - 花びら 2〜3 枚がゆっくり漂う（gentle-drift、18〜22秒周期）
  - セクション区切りに蔓の要素（VineDivider の簡略版 or 単一の蔓線）

遠景 (0.03〜0.06):
  - 最小限の環境レイヤー（花びら・小葉 5〜8 要素）
  - コンテナ opacity 0.10 × 要素 opacity 0.3〜0.5
```

### 3.3 プロダクト固有花の適用

各プロダクトでは、三花（杏・椿・楓）の代わりに**固有花がシーンの主役**となる。

| 層 | 本サイト（三花） | 個別プロダクト（固有花） |
|----|-----------------|----------------------|
| 前景 | 椿の木(左) + 楓の木(右) + 杏キャノピー(上) | 固有花の枝・花が構図の主役 |
| 中景 | 3種の花びらが散る | 固有花の花びらが散る |
| 遠景 | 3種が混在する環境レイヤー | 固有花 + accent-leaf の環境レイヤー |
| VineDivider | 楓→椿→杏→leaf のグラデーション | 固有花色→leaf のグラデーション |

**三花の扱い:**
- 個別プロダクトでは三花は登場しない（庭全体の象徴として本サイト専用）
- ただし `accent-leaf`（緑）は全プロダクト共通で使用する（庭の緑は共通基盤）

---

## 4. SVG モチーフの設計規約

### 4.1 抽象化の原則

> **描くのではなく、織る。**
> 写実的な花のイラストではなく、幾何学的な図形の集積で花を「想起させる」。

| 要素 | 許可される SVG プリミティブ | 例 |
|------|--------------------------|-----|
| 花弁 | `<ellipse>` を回転配置 | 5弁花: 72° 刻みで `<ellipse>` を回転 |
| 葉 | `<ellipse>` + 中心脈線 `<path>` | 楕円 + stroke の葉脈 |
| 幹・枝 | `<path>` (2次ベジェ曲線) | `C`/`Q` コマンドで自然な曲線 |
| 花心 | `<circle>` | 中心の小円 |
| 星形（楓等） | `<path>` (多角形) | L コマンドの連結（≤20 点） |

### 4.2 複雑度の上限

| 指標 | 上限 | 理由 |
|------|:----:|------|
| 1モチーフあたりのパス点数 | ≤ 20 点 | 幾何学的抽象を維持 |
| `<defs>` + `<use>` の活用 | 必須 | 同一モチーフの再利用でファイルサイズ抑制 |
| 1ページの総 SVG 要素数 | L3: ≤150 / L2: ≤80 / L1: ≤30 | パフォーマンス確保 |
| CSS アニメーション数 | ≤ 12 | repaint コスト制御 |

### 4.3 新しい花の SVG テンプレート

新しい花モチーフを追加する際の手順：

```
1. defs に再利用可能なシンボルを定義
   <defs>
     <g id="{flower-id}">
       <!-- ellipse / circle / path の組み合わせ -->
       <!-- 20点以下で花を抽象化 -->
     </g>
   </defs>

2. <use href="#{flower-id}"> で配置
   - transform: translate + scale(0.30〜0.55) + rotate
   - fill: var(--color-{flower})
   - opacity: 層に応じた値

3. 標準/hot を交互に使用して単調さを避ける
```

#### 例：ダリア（AI PM Service）

```svg
<!-- ダリアは多重花弁が特徴。3層の花弁リングで表現 -->
<defs>
  <g id="dl">
    <!-- 外弁: 8枚 -->
    <ellipse cx="0" cy="-18" rx="6" ry="14" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(45)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(90)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(135)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(180)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(225)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(270)" />
    <ellipse cx="0" cy="-18" rx="6" ry="14" transform="rotate(315)" />
    <!-- 内弁: 8枚 (小さく、回転オフセット) -->
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(22.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(67.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(112.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(157.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(202.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(247.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(292.5)" />
    <ellipse cx="0" cy="-11" rx="4" ry="9" opacity=".7" transform="rotate(337.5)" />
    <!-- 花心 -->
    <circle cx="0" cy="0" r="5" opacity=".5" />
  </g>
</defs>
```

特徴: 8弁×2層 + 花心。45° の規則的な回転が、タスク管理の「構造化」を暗示する。

---

## 5. 共通の実装原則

### 5.1 テキスト保護圏（Text Protection Zone）

植物がテキスト領域に重なる可能性がある場合、必ず radial-gradient のオーバーレイを配置する。

```css
/* 中央コンテンツの保護 */
background: radial-gradient(
  ellipse 62% 60% at 50% 48%,
  var(--color-bg-cream) 0%,
  rgba(250, 250, 245, 1) 25%,
  rgba(250, 250, 245, 0.92) 40%,
  rgba(250, 250, 245, 0.5) 55%,
  rgba(250, 250, 245, 0.15) 68%,
  transparent 80%
);
```

L1（Breath）では植物がコンテンツ領域に重ならないため、保護圏は不要な場合もある。
ただし、重なる可能性がある場合は必ず設ける。

### 5.2 アニメーション

| 名称 | 用途 | 周期 | 振幅 | easing |
|------|------|:----:|:----:|--------|
| `gentle-drift` | 前景・中景の微動 | 13〜22s | ≤ 8px | ease-in-out |
| `leaf-fall` / `leaf-fall-2` / `leaf-fall-3` | 中景の落葉・落花 | 8〜12s | 最大220px縦移動 | ease-in-out |
| `gentle-sway` | 前景の花のゆらぎ | 6〜10s | ≤ 6° | ease-in-out |

- `prefers-reduced-motion` で全アニメーション無効化を必ずサポート
- L1（Breath）では `leaf-fall` は使わず `gentle-drift` のみ

### 5.3 アクセシビリティ

| 要件 | 実装 |
|------|------|
| 装飾要素の排除 | すべての植物 SVG に `aria-hidden="true"` |
| インタラクション無効 | すべての植物コンテナに `pointer-events-none` |
| モーション配慮 | `prefers-reduced-motion: reduce` で animation-duration を 0.01ms に |
| テキスト可読性 | テキスト保護圏、または植物を配置しない領域の確保 |

### 5.4 レスポンシブ

| ブレークポイント | 対応 |
|:---------------:|------|
| `max-md` (< 768px) | L3: 樹木のフレーミングを非表示。中景・遠景は表示 |
| | L2/L1: 前景の花を画面上部または下部に移動、サイズ縮小 |
| `sm`〜`md` | 前景の花の数を削減（L3: 全要素の60%、L2: 50%） |

### 5.5 パフォーマンス

| 指標 | 基準 |
|------|------|
| SVG 総ファイルサイズ | ≤ 15KB (gzip後) |
| CSS アニメーション | transform / opacity のみ（layout trigger を避ける） |
| `will-change` | アニメーション要素のコンテナに適用を検討 |
| `<defs>` + `<use>` | 同一モチーフの再利用で DOM 肥大化を防止 |

---

## 6. 伝達時のガイド — 正確に伝えるための語彙

### 6.1 使うべき表現

| 概念 | 正確な表現 |
|------|-----------|
| 全体の方針 | **水彩庭園画（Watercolor Garden Scene）** — 水彩の透明感で描いた庭園の中に UI がある |
| 前景の植物 | **庭園フレーミング** — 植物が画面を囲み、構図を形成する |
| 中景の花びら | **散り落ちる気配** — 花びらや葉がゆっくりと漂う |
| 遠景の環境 | **庭の空気** — 意識の外にある、空間全体のボタニカルな質感 |
| 3層の奥行き | **前景・中景・遠景** — 水彩画の重ね塗りのように透明度で層を分ける |
| 透明度 | **水彩の透き通り** — べた塗りではなく、下地の白が透けて見える |
| 花の個性 | **花壇の主役** — 各プロダクトは庭のひとつの花壇、固有花がアイデンティティ |
| SVG の抽象度 | **幾何学の花** — ellipse と path で花を「想起させる」。写実ではない |

### 6.2 避けるべき表現

| 誤解を招く表現 | なぜ誤解を招くか | 代わりに使う表現 |
|---------------|----------------|----------------|
| 背景に花を散りばめる | 「散りばめる」はランダム配置を想起させる | 植物で画面を構成する |
| 控えめなボタニカル装飾 | 「控えめ」が opacity ≤ 0.1 と解釈されうる | 水彩の透明感で描く |
| 花のイラストを追加する | 「イラスト」は写実的な絵を想起させる | 幾何学的 SVG で花を織る |
| ツール系は装飾を最小限に | 「最小限」が省略と解釈されうる | 息吹レベルで3層すべてを表現する |
| 背景パターン | 「パターン」はタイル状の繰り返しを想起させる | 庭園風景（構図のある配置） |

---

## 7. チェックリスト — プロダクトに適用する際の確認項目

新しいプロダクトに植物風景を適用する際、以下を確認する。

### 花の選定
- [ ] プロダクトの性格に合った花が選ばれているか
- [ ] SVG で幾何学的に抽象化できる花か
- [ ] 既存プロダクトの花色と十分に区別できるか
- [ ] `--color-{flower}` / `--color-{flower}-hot` の 2色ペアが定義されたか

### 3層の実装
- [ ] 前景：固有花の構図が存在するか（L1 でも花 1〜3 輪 + 小枝）
- [ ] 中景：散る花びら or 漂う花びらが存在するか
- [ ] 遠景：環境レイヤーが存在するか
- [ ] 3層の opacity が規定範囲内か

### 品質
- [ ] テキスト保護圏は必要に応じて配置されているか
- [ ] `aria-hidden="true"` がすべての装飾要素に付いているか
- [ ] `pointer-events-none` がすべての装飾コンテナに付いているか
- [ ] `prefers-reduced-motion` でアニメーションが無効化されるか
- [ ] モバイルでの表示が確認されているか
- [ ] `<defs>` + `<use>` で SVG が再利用されているか

### ブランド統一
- [ ] 三花（杏・椿・楓）が登場していないか（本サイト専用）
- [ ] `accent-leaf`（緑）が共通のUI色として使われているか
- [ ] VineDivider のグラデーションが固有花色→leaf になっているか
