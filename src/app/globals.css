@import "tailwindcss";

/* ============================================
   craftgarden.studio — Quiet Garden Design System
   ============================================
   Light cream theme with botanical green accents.
   Japanese plant motifs: kaede, anzu, tsubaki.
   Built on Tailwind CSS 4 @theme directive.
   ============================================ */

@theme {
  /* Background */
  --color-bg-cream: #FAFAF5;
  --color-bg-warm: #F5F2EC;
  --color-bg-card: #F0EDE6;

  /* Text */
  --color-text-deep: #2A4A32;
  --color-text-muted: #5C7260;
  --color-text-light: #8A9E8C;

  /* Botanical accents */
  --color-accent-leaf: #6B8F71;
  --color-accent-sage: #9BB09E;
  --color-accent-moss: #4A7051;
  --color-accent-bark: #8B7355;
  --color-accent-bloom: #C4926B;

  /* Plant-specific colors — 杏(anzu)・椿(tsubaki)・楓(kaede) */
  --color-anzu: #F08C28;
  --color-anzu-hot: #FF9A1F;
  --color-tsubaki: #E05577;
  --color-tsubaki-hot: #F0487A;
  --color-kaede: #D63E2F;
  --color-kaede-hot: #E8442E;
  --color-bark: #7A5E3A;
  --color-bark-dark: #5C4428;
  --color-leaf-dark: #3D6B45;

  /* Category colors */
  --color-cat-product: #6B8F71;
  --color-cat-tool: #7E9AAB;
  --color-cat-content: #B8956A;

  /* Borders */
  --color-border: rgba(107, 143, 113, 0.08);
  --color-border-hover: rgba(107, 143, 113, 0.2);

  /* Typography */
  --font-sans: var(--font-dm-sans), system-ui, -apple-system, sans-serif;
  --font-heading: var(--font-nunito), system-ui, -apple-system, sans-serif;

  /* Fluid type scale */
  --text-display: clamp(2.4rem, 6.5vw, 4rem);
  --text-h2: clamp(1.7rem, 4vw, 2.5rem);
  --text-h3: clamp(1rem, 1.5vw + 0.5rem, 1.15rem);
  --text-body: clamp(0.875rem, 0.5vw + 0.75rem, 1rem);
  --text-small: clamp(0.8rem, 0.3vw + 0.7rem, 0.88rem);

  /* Border radius */
  --radius-card: 1rem;
  --radius-btn: 999px;

  /* Animations */
  --animate-fade-in-up: fade-in-up 0.8s ease-out both;
}

/* --- Keyframes --- */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gentle-drift {
  0%, 100% { transform: var(--drift-base, rotate(0deg)) translateY(0); }
  50%      { transform: var(--drift-base, rotate(0deg)) translateY(-8px); }
}

@keyframes gentle-sway {
  0%, 100% { transform: rotate(0deg); }
  25%      { transform: rotate(-6deg); }
  75%      { transform: rotate(6deg); }
}

@keyframes leaf-fall {
  0%   { transform: translate(0, 0) rotate(0deg); opacity: 0.28; }
  25%  { transform: translate(-15px, 40px) rotate(45deg); opacity: 0.24; }
  50%  { transform: translate(5px, 90px) rotate(90deg); opacity: 0.20; }
  75%  { transform: translate(-10px, 150px) rotate(135deg); opacity: 0.14; }
  100% { transform: translate(8px, 220px) rotate(180deg); opacity: 0; }
}

@keyframes leaf-fall-2 {
  0%   { transform: translate(0, 0) rotate(0deg); opacity: 0.25; }
  25%  { transform: translate(12px, 50px) rotate(-40deg); opacity: 0.22; }
  50%  { transform: translate(-8px, 110px) rotate(-80deg); opacity: 0.16; }
  75%  { transform: translate(15px, 170px) rotate(-120deg); opacity: 0.10; }
  100% { transform: translate(-5px, 240px) rotate(-160deg); opacity: 0; }
}

@keyframes leaf-fall-3 {
  0%   { transform: translate(0, 0) rotate(10deg); opacity: 0.22; }
  30%  { transform: translate(-20px, 60px) rotate(60deg); opacity: 0.18; }
  60%  { transform: translate(10px, 130px) rotate(110deg); opacity: 0.12; }
  100% { transform: translate(-12px, 200px) rotate(170deg); opacity: 0; }
}

/* --- Base Styles --- */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  background-color: var(--color-bg-cream);
  color: var(--color-text-deep);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  line-height: 1.7;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4 {
  font-family: var(--font-heading);
}

::selection {
  background-color: rgba(107, 143, 113, 0.2);
  color: var(--color-text-deep);
}

:focus-visible {
  outline: 2px solid var(--color-accent-leaf);
  outline-offset: 2px;
}

/* --- Scrollbar --- */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-cream);
}

::-webkit-scrollbar-thumb {
  background: var(--color-accent-sage);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-accent-leaf);
}

/* ============================================
   栞 (Shiori) — Ribbon Bookmark on Cards
   ============================================ */
.shiori-ribbon {
  overflow: visible !important;
}

.shiori-ribbon::before {
  content: '';
  position: absolute;
  top: -12px;
  right: 22px;
  width: 8px;
  height: 58px;
  z-index: 10;
  border-radius: 0 0 1.5px 1.5px;
  opacity: 0.82;
  transition:
    height 0.35s cubic-bezier(0.34, 1.56, 0.64, 1),
    opacity 0.3s ease;
}

.shiori-ribbon::after {
  content: '';
  position: absolute;
  top: 45px;
  right: 22px;
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top-width: 7px;
  border-top-style: solid;
  z-index: 10;
  opacity: 0.82;
  transition:
    top 0.35s cubic-bezier(0.34, 1.56, 0.64, 1),
    opacity 0.3s ease;
}

.shiori-ribbon:hover::before {
  height: 66px;
  opacity: 0.95;
}

.shiori-ribbon:hover::after {
  top: 53px;
  opacity: 0.95;
}

/* Category-specific ribbon colors */
.shiori-product::before { background: var(--color-cat-product); }
.shiori-product::after  { border-top-color: var(--color-cat-product); }

.shiori-tool::before { background: var(--color-cat-tool); }
.shiori-tool::after  { border-top-color: var(--color-cat-tool); }

.shiori-content::before { background: var(--color-cat-content); }
.shiori-content::after  { border-top-color: var(--color-cat-content); }
